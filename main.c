//Kirthi R. Kulkarni//October 2016//Program to control Device and other functionalities or peripherals using UART from the console.//*****************************************************************************#include <stdbool.h>#include <stdint.h>#include "inc/hw_memmap.h"#include "driverlib/gpio.h"#include "driverlib/interrupt.h"#include "driverlib/pin_map.h"#include "driverlib/sysctl.h"#include "driverlib/systick.h"#include "driverlib/uart.h"#include "utils/uartstdio.h"#include "driverlib/adc.h"#include "inc/tm4c123gh6pm.h"#include "inc/hw_types.h"#include "driverlib/flash.h"//*****************************************************************************//! The following UART signals are configured only for displaying console//! messages for this example.  These are not required for operation of//! Systick.//! - UART0 peripheral//! - GPIO Port A peripheral (for UART0 pins)//! - UART0RX - PA0//! - UART0TX - PA1//!//! This example uses the following interrupt handlers.  To use this example//! in your own application you must add these interrupt handlers to your//! vector table.//! - SysTickIntHandler////*****************************************************************************//*****************************************************************************//// This function sets up UART0 to be used for a console to display information// as the example is running.////*****************************************************************************intmain(void){	unsigned char c;    //    // Set the clocking to run directly from the external crystal/oscillator.    // TODO: The SYSCTL_XTAL_ value must be changed to match the value of the crystal on your board.    //    SysCtlClockSet(SYSCTL_SYSDIV_1 | SYSCTL_USE_OSC | SYSCTL_OSC_MAIN |                   SYSCTL_XTAL_16MHZ);    SysCtlPeripheralEnable(SYSCTL_PERIPH_GPIOF);    GPIOPinTypeGPIOOutput(GPIO_PORTF_BASE, GPIO_PIN_1|GPIO_PIN_2|GPIO_PIN_3);    SysCtlPeripheralEnable(SYSCTL_PERIPH_GPIOC);    GPIOPinTypeGPIOOutput(GPIO_PORTC_BASE, GPIO_PIN_4|GPIO_PIN_5|GPIO_PIN_6|GPIO_PIN_7);    adc_init();    pwm_init();    //    // Set up the serial console to use for displaying messages.  This is    // just for this example program and is not needed for Systick operation.    //    InitConsole();    //    // Display the setup on the console.    //    UARTprintf("Enter your option");    UARTprintf("\nType '1' for blinking RED LED");    UARTprintf("\nType '2' for blinking GREEN LED");    UARTprintf("\nType '3' for blinking BLUE LED");    UARTprintf("\nType '4' for reading temperature and initializing ADC");    UARTprintf("\nType '5' for generating a sqaure wave- 50% Duty Cycle->250Hz using PWM");    UARTprintf("\nType '6' for LCD initializations");    UARTprintf("\n>");    //    // Enable interrupts to the processor.    //    IntMasterEnable();    //    while(1)    {    	c= UARTgetc();    	if(c=='1')    	{UARTCharPut(UART0_BASE,'1');    		GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_1, GPIO_PIN_1);    		GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_2, 0);    		GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_3, 0);    		UARTprintf(" RED LED is on");    		UARTprintf("\n>");    	}    	 if(c=='2')    		{    			UARTCharPut(UART0_BASE,'2');    			GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_2, GPIO_PIN_2);    			GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_1, 0);    			GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_3, 0);    			UARTprintf(" BLUE LED is on");    			UARTprintf("\n>");    		}    	 if(c=='3')    			{    				UARTCharPut(UART0_BASE,'3');    				GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_3, GPIO_PIN_3);    				GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_1, 0);    				GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_2, 0);    				UARTprintf(" GREEN LED is on");    				UARTprintf("\n>");    			}        if(c=='4')        {UARTCharPut(UART0_BASE,'4');        UARTprintf(" TEMPERATURE:");        	adc();        	GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_1, 0);        	GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_2, 0);        	GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_3, 0);        	UARTprintf("\n>");        }        if(c=='5')               {        	    UARTCharPut(UART0_BASE,'5');                UARTprintf(" Check the square wave on CRO (port D pin 0)");               	pwm();               	GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_1, 0);               	GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_2, 0);               	GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_3, 0);               	UARTprintf("\n>");               }        if(c=='6')               {        	   UARTCharPut(UART0_BASE,'6');               UARTprintf(" LCD ");               InitLcd();               LCDClearScreen();               SysCtlDelay(200000);               LCDPutStr( "HEY", 70, 70, 1, 0xFFF, 0x000);               LCDSetPixel(100, 120, 0xF00);               LCDSetCircle(60,60,30,0x0FF);               	GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_1, 0);               	GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_2, 0);               	GPIOPinWrite(GPIO_PORTF_BASE, GPIO_PIN_3, 0);               	UARTprintf("\n>");               	while(1);               }        }}